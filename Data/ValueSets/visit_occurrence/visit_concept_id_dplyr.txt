domain_id=='Visit' | (vocabulary_id=='PCORNet' & concept_class_id=='Encounter Type' & !(grepl('-ED',concept_code) & grepl('-IP',concept_code) & grepl('-AV',concept_code))) | (vocabulary_id=='PCORNet' & concept_class_id=='Undefined' & !(grepl('-ED',concept_code) & grepl('-IP',concept_code) & grepl('-AV',concept_code))) & is.na(invalid_reason)